{"ast":null,"code":"import mergeData from '../../util/mergeData';\n\nfunction mergeTransitions(dest = [], ...transitions) {\n  /* eslint-disable-next-line no-array-constructor */\n  return Array().concat(dest, ...transitions);\n}\n\nexport function createSimpleTransition(name, origin = 'top center 0', mode) {\n  return {\n    name,\n    functional: true,\n    props: {\n      group: {\n        type: Boolean,\n        default: false\n      },\n      hideOnLeave: {\n        type: Boolean,\n        default: false\n      },\n      leaveAbsolute: {\n        type: Boolean,\n        default: false\n      },\n      mode: {\n        type: String,\n        default: mode\n      },\n      origin: {\n        type: String,\n        default: origin\n      }\n    },\n\n    render(h, context) {\n      const tag = `transition${context.props.group ? '-group' : ''}`;\n      const data = {\n        props: {\n          name,\n          mode: context.props.mode\n        },\n        on: {\n          beforeEnter(el) {\n            el.style.transformOrigin = context.props.origin;\n            el.style.webkitTransformOrigin = context.props.origin;\n          }\n\n        }\n      };\n\n      if (context.props.leaveAbsolute) {\n        data.on.leave = mergeTransitions(data.on.leave, el => {\n          const {\n            offsetTop,\n            offsetLeft,\n            offsetWidth,\n            offsetHeight\n          } = el;\n          el._transitionInitialStyles = {\n            position: el.style.position,\n            top: el.style.top,\n            left: el.style.left,\n            width: el.style.width,\n            height: el.style.height\n          };\n          el.style.position = 'absolute';\n          el.style.top = offsetTop + 'px';\n          el.style.left = offsetLeft + 'px';\n          el.style.width = offsetWidth + 'px';\n          el.style.height = offsetHeight + 'px';\n        });\n        data.on.afterLeave = mergeTransitions(data.on.afterLeave, el => {\n          if (el && el._transitionInitialStyles) {\n            const {\n              position,\n              top,\n              left,\n              width,\n              height\n            } = el._transitionInitialStyles;\n            delete el._transitionInitialStyles;\n            el.style.position = position || '';\n            el.style.top = top || '';\n            el.style.left = left || '';\n            el.style.width = width || '';\n            el.style.height = height || '';\n          }\n        });\n      }\n\n      if (context.props.hideOnLeave) {\n        data.on.leave = mergeTransitions(data.on.leave, el => {\n          el.style.setProperty('display', 'none', 'important');\n        });\n      }\n\n      return h(tag, mergeData(context.data, data), context.children);\n    }\n\n  };\n}\nexport function createJavascriptTransition(name, functions, mode = 'in-out') {\n  return {\n    name,\n    functional: true,\n    props: {\n      mode: {\n        type: String,\n        default: mode\n      }\n    },\n\n    render(h, context) {\n      return h('transition', mergeData(context.data, {\n        props: {\n          name\n        },\n        on: functions\n      }), context.children);\n    }\n\n  };\n}","map":{"version":3,"mappings":"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","names":["mergeData","mergeTransitions","dest","transitions","Array","concat","createSimpleTransition","name","origin","mode","functional","props","group","type","Boolean","default","hideOnLeave","leaveAbsolute","String","render","h","context","tag","data","on","beforeEnter","el","style","transformOrigin","webkitTransformOrigin","leave","offsetTop","offsetLeft","offsetWidth","offsetHeight","_transitionInitialStyles","position","top","left","width","height","afterLeave","setProperty","children","createJavascriptTransition","functions"],"sourceRoot":"","sources":["../../../src/components/transitions/createTransition.ts"],"sourcesContent":["import { FunctionalComponentOptions, VNode, VNodeData } from 'vue'\nimport mergeData from '../../util/mergeData'\n\nfunction mergeTransitions (\n  dest: Function | Function[] = [],\n  ...transitions: (Function | Function[])[]\n) {\n  /* eslint-disable-next-line no-array-constructor */\n  return Array<Function>().concat(dest, ...transitions)\n}\n\nexport function createSimpleTransition (\n  name: string,\n  origin = 'top center 0',\n  mode?: string\n): FunctionalComponentOptions {\n  return {\n    name,\n\n    functional: true,\n\n    props: {\n      group: {\n        type: Boolean,\n        default: false,\n      },\n      hideOnLeave: {\n        type: Boolean,\n        default: false,\n      },\n      leaveAbsolute: {\n        type: Boolean,\n        default: false,\n      },\n      mode: {\n        type: String,\n        default: mode,\n      },\n      origin: {\n        type: String,\n        default: origin,\n      },\n    },\n\n    render (h, context): VNode {\n      const tag = `transition${context.props.group ? '-group' : ''}`\n      const data: VNodeData = {\n        props: {\n          name,\n          mode: context.props.mode,\n        },\n        on: {\n          beforeEnter (el: HTMLElement) {\n            el.style.transformOrigin = context.props.origin\n            el.style.webkitTransformOrigin = context.props.origin\n          },\n        },\n      }\n\n      if (context.props.leaveAbsolute) {\n        data.on!.leave = mergeTransitions(data.on!.leave, (el: HTMLElement) => {\n          const { offsetTop, offsetLeft, offsetWidth, offsetHeight } = el\n          el._transitionInitialStyles = {\n            position: el.style.position,\n            top: el.style.top,\n            left: el.style.left,\n            width: el.style.width,\n            height: el.style.height,\n          }\n          el.style.position = 'absolute'\n          el.style.top = offsetTop + 'px'\n          el.style.left = offsetLeft + 'px'\n          el.style.width = offsetWidth + 'px'\n          el.style.height = offsetHeight + 'px'\n        })\n        data.on!.afterLeave = mergeTransitions(data.on!.afterLeave, (el?: HTMLElement) => {\n          if (el && el._transitionInitialStyles) {\n            const { position, top, left, width, height } = el._transitionInitialStyles\n            delete el._transitionInitialStyles\n            el.style.position = position || ''\n            el.style.top = top || ''\n            el.style.left = left || ''\n            el.style.width = width || ''\n            el.style.height = height || ''\n          }\n        })\n      }\n      if (context.props.hideOnLeave) {\n        data.on!.leave = mergeTransitions(data.on!.leave, (el: HTMLElement) => {\n          el.style.setProperty('display', 'none', 'important')\n        })\n      }\n\n      return h(tag, mergeData(context.data, data), context.children)\n    },\n  }\n}\n\nexport function createJavascriptTransition (\n  name: string,\n  functions: Record<string, any>,\n  mode = 'in-out'\n): FunctionalComponentOptions {\n  return {\n    name,\n\n    functional: true,\n\n    props: {\n      mode: {\n        type: String,\n        default: mode,\n      },\n    },\n\n    render (h, context): VNode {\n      return h(\n        'transition',\n        mergeData(context.data, {\n          props: { name },\n          on: functions,\n        }),\n        context.children\n      )\n    },\n  }\n}\n"]},"metadata":{},"sourceType":"module"}